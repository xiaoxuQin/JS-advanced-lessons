<!DOCTYPE html>
<html>
<head>
	<title>190308_W02_C02</title>
</head>
<body>
	<script>
		////////////////////////  part1
		if(true){
			var a = 1;
		}
		a = 2;
		console.log(a);
		// 2
		
		if(true){
			var a = 1;
		}
		// a = 2;
		console.log(a);
		// 1
		
		if(false){
			var a = 1;
		}
		console.log(a);
		// undefined	

		for(var i = 0; i < 3; i++){
		}
		console.log(i);
		// 3
	</script>
		
	<script>
		////////////////////// part2 
		// 严格模式， 不需要加分号
		// 对当前页面的所有JavaScript都使用严格模式
		'use strict'
		function fn1(){
			// 对函数内部代码应用严格模式
			'use strict'
		}
	</script>

	<script>
		// 如果变量不适用var声明
		// 会自动提升为全局变量
		function fn1(){
			username = "zhangsan";
		}
		fn1();
		console.log(username);
		// zhangsan
	</script>

	<script>
		// 严格模式下，变量必须进行显式的声明
		function fn1(){
			'use strict'
			username = "zhangsan";
		}
		fn1();
		console.log(username);
		// 报错 username is not defined
	</script>

	<script>
	///////////// part 3
	var a = 1;
	console.log(window);  // a 也在window对象里面
	
	function fn2(){
		// 普通函数的内部this指向window对象
		// 非严格模式下
		
		console.log(this);
	
	}
	function fn2(){
		// 严格模式下this指向undefined
		'use strict'
		console.log(this);
	}	
	// 两个是不一样的， 一个返回window， 一个返回 undefined
	</script>

	<script>
		function fn4(){
			var result = (this === undefined ? true : false);
			return result;
		}
		console.log(fn4());
		// false
		
		function fn4(){
			'use strict'
			var result = (this === undefined ? true : false);
			return result;
		}
		console.log(fn4());
		// true
	</script>

	<script>
	//////////////////// part 4
		var str = "abcdef";
		str.length = 1;
		console.log(str.length);
		// 6
		// 临时包装对象， 1 是赋值给临时包装对象的，
		// 1 是被释放了的
		// 相当于
		var strObject = new String(str);
		strObject.length = 1;
		console.log(str.length);

		// 严格模式下就会报错
		'use strict'
		var str = "abcdef";
		str.length = 1;
		console.log(str.length);
		// 字符串的 .length 属性是只读属性
// Cannot assign to read only property 'length' of string 'abcdef'
	</script>

	<script>
		///////////// part5
		// switch case 是进行值和类型的判断，
		// 不会发生隐式的类型转换
		var index = 1;
		switch(index){
			case 1:
				console.log("xingqiyi");
				break;
			case 2:
				console.log("xingqier");
				break;
		}
		// xingqiyi

		var index = 1;
		switch(index){
			case '1':
				console.log("xingqiyi");
				break;
			case 2:
				console.log("xingqier");
				break;
			// default:
			// 	console.log("junbufuhe");
		}
		// undefined

		var index = 1;
		switch(index){
			case 1:
				console.log("xingqiyi");
				// break;
			case 2:
				console.log("xingqier");
				// break;
			default:
				console.log("junbufuhe");
		}
		// xingqiyi
		// xingqier
		// junbufuhe

		var index = 1;
		switch(index){
			case 1:
			case 2:
			case 3:
			case 4: 
			case 5: 
				console.log("工作日");
				break;
			case 6:
			case 7:
				console.log("休息日");
				break;
			default:
				console.log("junbufuhe");
				break;
		}
		// 工作日
		
		// if else : 条件比较少的时候选择
		// switch case: 多个分支, 结构性好， 
		// 在条件多的时候， switch case 执行效率更好一些
	</script>

	<script>
	////////////// part 6
	var obje = {"username":"lisi", "age": 30};
	obje.__proto__.sex = "male";
	for(var i in obje){
		console.log(i, obje[i]);
	}
	// username lisi
	// age 30
	// sex male

	var arr1 = [1, 1, 3];
	for(var j in arr1){
		console.log(j, arr1[j]);
	}
	// 0 1
	// 3 1 1
	// 3 2 3
	// 遍历数组不推荐方式 for in
	</script>

</body>
</html>