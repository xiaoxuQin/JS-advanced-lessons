<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ch 28</title>
</head>
<body>
    
</body>

<script>
    /*            数组的解构赋值             */
    /* 结构上是一样的 */
    let [ , , third] = [ , , 3];
    // let [first, second, third] = [1, 2, 3];
    console.log(third);
 
    /*
        ... 理解为剩余运算符，其他元素匹配完成后剩余的元素
    */
    let [head, ...tail] = [1, 2, 3, 4];
    console.log(head, tail);   // 1   [2, 3, 4]
    
    /* 
        当左侧结构个数大于右侧时，未匹配到的变量是undefined，
        ... 跟的变量未匹配元素 []
    */
    let [d, e, ...f] = ['a'];
    console.log(d, e, f);   // a undefined []
</script>

<script>
    /*             对象的解构赋值              */
    /*
        根据键名进行匹配，然后完成赋值，不是按顺序
    */
    let {bar, foo, other} = {foo:'foo1', bar:'bar1'};
    console.log(bar, foo);  // bar1  foo1
    console.log(bar, foo, other);  // bar1  foo1 undefined
    
    /* 完全按照键值对来匹配 */
    let {bar, foo, other} = {foo:'foo1', bar:'bar1', third:'third'};
    console.log(bar, foo, other);   // bar1 foo1 undefined
    
    /*
        解构赋值时，左侧为键值对时,要注意键值对赋值时的对应关系
        如果是键值对的情况，键只用于匹配，真正赋给的是对应的值
    */
    let {a:b} = {a:'aaa', b:'bbb'};
    console.log(b); // aaa  
    console.log(a); // 报错 undefined
</script>

<script>
    /*              字符串的解构赋值             */
    let str = new String('abdcef');
    let [a,b,c,d] = str;
    console.log(a, b, c, d);   // a b d c

    let [e, f] = 'fex';
    console.log(e, f);  // f e
</script>

<script>
    /*               数字的解构赋值              */
    /*
        Number对象上有toString属性， 
        于是把Number对象的toString属性的属性值赋值给s1
    */
    let num = new Number(5);
    console.log(num.toString);
    let {toString: s1} = num;
    console.log(s1);    // ƒ toString() { [native code] }

    let {toString: s1} = 123;
    console.log(s1);    // ƒ toString() { [native code] }
</script>

<script>
    /*             函数参数的解构赋值              */
    function fn1({x = 0, y = 0} = {}){
        return [x, y];
    }
    fn1();  // [0, 0]
    fn1({x:1, y:2});    //  [1, 2]
    /* 
        不传值的情况下， 使用默认值；
        可以进行批量的赋值
    */
</script>
</html>